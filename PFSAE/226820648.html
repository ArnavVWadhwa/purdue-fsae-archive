<!DOCTYPE html>
<html>
    <head>
        <title>Purdue Formula SAE : Harness PF23 | Design</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Purdue Formula SAE</a></span>
                            </li>
                                                    <li>
                                <span><a href="Purdue-Formula-SAE-Home_127569448.html">Purdue Formula SAE Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Electronics_202276996.html">Electronics</a></span>
                            </li>
                                                    <li>
                                <span><a href="259297177.html">Design | ELE</a></span>
                            </li>
                                                    <li>
                                <span><a href="259297208.html">Design Archive | ELE</a></span>
                            </li>
                                                    <li>
                                <span><a href="259297210.html">Design PF23 | ELE</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Purdue Formula SAE : Harness PF23 | Design
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Skrzyszowski, Mateusz</span>, last modified by <span class='editor'> Paradise, Hunter</span> on Dec 05, 2023
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 style="" id="HarnessPF23|Design-Introduction">Introduction</h1><p style="">Designing a wiring harness does not require complex analysis like how suspension would do it, but it does require attention to detail and great organization. As with designing most things, the first fundamental knowledge one should have when designing a harness is how you are to manufacture this harness. This is essential to understanding how you can effectively route the harness and how to select splice points. The next fundamental knowledge required is a deep understanding of how each pin works on each electrical component you plan on using in the harness. If you begin to connect components to pins that you think <em>may </em>work, there is a very good chance that they won't. Once you understand these things, the next steps are to stay organized when putting it all together. Excel is your best friend for simple and effective organization, however there are fancier tools that you could also be using for your design. Once you know where wires are going, you can put them into CAD to figure out wire routing, length, and size. In terms of final analysis, voltage drop calculations are necessary for making sure that your components are getting enough input voltage to work as intended, and thermal analysis is good for double checking that the wire will not too hot with the power going through it. The final thing that I will mention is that you must be careful when adding more components to the car/harness, as the engine has a fairly small stator to charge the battery. This is where power accounting comes into play and is important when selecting components. Finally, remember that reliability is the most important thing when it comes to the wiring harness. Working through issues throughout the testing season and at the track is miserable, and the last thing that you would want is for incorrect wire selection to be the reason you fail endurance.</p><h1 style="" id="HarnessPF23|Design-Chapter1:BackgroundNecessities">Chapter 1: Background Necessities</h1><h2 style="" id="HarnessPF23|Design-ComponentSelection">Component Selection</h2><p style="">Component selection is slightly out of the scope of this project and book, but I will briefly touch on it as it is still important to understand what components the harness is connecting to. The three most important things that you should consider when selecting a component are weight, power consumption, and difficulty of integration. Weight is important for team goals, as a lighter car generally correlates to a faster car. Power consumption is important because of the limited power generated by the engine stator. The power charging the battery should be net positive to the power being consumed by all components. This will ensure that the car systems will not run out of battery during endurance and all systems will work as intended. A dead battery would be the worst way to lose endurance, as it is such a simple thing to prevent. Finally, considering integration is important as you need to make sure that the component will work with the rest of the car and electrical systems. By this I mean things like physical packaging on the car, or availability of pins on the PDM/ECU/Dash. Speaking of the PDM, ECU, and Dash, I find it important to mention that MoTeC products are top of the line off-the-shelf products that will make your life much easier. While doing a custom power management systems sounds like a lot of fun, it is incredibly complex and unnecessary. Remember that the goal of our team overall is to win competition. Plaguing your testing season with reliability issues on the electrical side sounds like a nightmare and should be avoided. MoTeC gets the job done well and should be all that is ever needed. That is why when selecting other electrical components, make sure that they are compatible with the MoTeC systems.</p><h2 style="" id="HarnessPF23|Design-ManufacturingOverview">Manufacturing Overview</h2><p style="">Right of the bat I will mention that you should read<strong><span> </span><a class="external-link" href="https://www.rbracing-rsr.com/wiring_ecu.html" rel="nofollow" style="">this page</a>. </strong>This is pretty much a one stop shop for everything harness manufacturing related. It shows all the correct techniques and steps for building wiring harnesses for motorsports use. Things like concentric twisting is important to understand, and how splicing and epoxy sealing works. This will lead to better decisions when it comes to harness branching, splicing, and routing. HP Academy and Rob Dahm also have some fantastic Youtube videos that cover these techniques. I'll have a more detailed guide about manufacturing once I have completed a manufacturing phase and can actually give some insightful details past these when it comes to the process.</p><h1 style="" id="HarnessPF23|Design-Chapter2:HarnessDesign">Chapter 2: Harness Design</h1><h2 style="" id="HarnessPF23|Design-DesignOrganization">Design Organization</h2><p style="">The first step when approaching the harness design is to get organized before starting anything design related. This means setting up the skeletons for pinouts, routing elements, schematics, etc. In this season Excel was what we found to be the best for organizing everything and keeping it all in one place, however I think RapidHarness could be a great tool to consider taking advantage of in the future. The first thing that was created was the pinouts for the M130 ECU, PDM15, and C125 Dash. Because these are where all the component wires end up at some point, this is essential to keep track of which component is connected to what pin, and do we have the appropriate space to read a sensor or control an electromechanical device. Then there are also pages for each component side connector pins.</p><h2 style="" id="HarnessPF23|Design-PinoutCompletion">Pinout Completion</h2><p style="">Before you start to fill out the skeletons you have made, organize all of the components that will be connected to the harness in one place. It is easy to get lost with what components are connected to the harness, and what is not yet connected to the harness. Once you have all the components listed, assign each component a criticality level. This will make it clear as to what component needs to be prioritized on the harness. I have included a screenshot below of what we defined the levels to be this year, which is also found in another confluence page.</p><p style=""><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" height="250" src="attachments/226820648/280564067.png" data-image-src="attachments/226820648/280564067.png" data-unresolved-comment-count="0" data-linked-resource-id="280564067" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2022-12-9_19-46-21-1.png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="226820648" data-linked-resource-container-version="3" alt=""></span></span></p><p style="">Based on this, we decide which components should be prioritized to which pins. In order to free up the CAN bus and remove the uncertainty of delay associated with it, all of the ECU pins should be prioritized. If you have room on the ECU to control / read something, you should absolutely use it. Most level 1 and level 2 components are only wired to the ECU and PDM. The PDM will have some critical components on it as well, as some components are required to be wire to the PDM (like the ECU itself for example).</p><p style="">Once you have figured out where all of the components are getting wired to, you can then begin to fill out the pinouts for each connector for each component. Now that you know where the components' wires are heading to, this should be fairly simple. Make sure to use the actual pin number on the connector when creating this pinout, as it will make physical pinning much clearer and faster.</p><h2 style="" id="HarnessPF23|Design-CAD">CAD</h2><p style="">Now that you know what needs to be connected to what, you should put all of your components and wires into CAD. Start with placing all of the components. In terms of physical placement, remember that it is usually much easier for your components to move than other subteams' components. This season I moved the battery to about four different locations and many different orientations, so be prepared to do the same. Generally try to stay out of the way as much as possible and you will have a much better time with this. Once your components are placed, begin to connect all of the components with a bundle that would represent the wiring harness. The routing features in NX do this extremely well. All you need to do is create two ports (end points of the length of harness you are creating) and connect them with the routing specific tool. You can then add more points in the middle to of the spline path to move and route the harness as you want. Remember manufacturing when you do this, as too many branches near each other would become extremely difficult to manufacture. The biggest advantages of creating CAD of the electrical system is being able to easily get all necessary wire lengths and visualize component placement and routing path. This will also help with choosing splice points for power/grounds.</p><h2 style="" id="HarnessPF23|Design-Splicing">Splicing</h2><p style="">This is where things get dicey. It is incredibly easy to get lost when picking splicing points, so you should take a lot of care when creating this. This year the approach taken was to create splice points in excel and create I/O pinouts for each crimp. This would then correlate to splice points visualized in CAD. Splices are easiest to put in/near branches, so consider this when picking each point. This method works, however I think this is where taking advantage of RapidHarness would shine. You would be able to really easily pick and choose points in the software, and it would take care of a lot of the organization for you. I definitely would recommend trying to use RapidHarness in the future because of this step alone. There isn't much that I can add to the overall process of splice point creation, it is just difficult to stay organized and make sure that all wires are accounted for. Below I included a screenshot of what the splice point pinout in Excel looks like. This specific splice is a termination splice, so the &quot;out&quot; wire will be going into a component, which for this one is PDM 0V. This has all the information about where every wire is coming from/going to, so it keeps everything fairly organized. It was very time consuming to go through every wire that exists in the harness, but is necessary for making sure that no details were missed.</p><p style=""><span class="confluence-embedded-file-wrapper"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" draggable="false" src="attachments/226820648/280564068.png" data-image-src="attachments/226820648/280564068.png" data-unresolved-comment-count="0" data-linked-resource-id="280564068" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2022-12-9_20-21-58.png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="226820648" data-linked-resource-container-version="3" alt=""></span></span></p><h2 style="" id="HarnessPF23|Design-BundleFinalTouches">Bundle Final Touches</h2><p style="">Once you have pretty much all the wiring mapped out, you can move on to figuring out how much of each type of wire you will need and how much of each heat shrink size you will need for the bundle. Look towards Chapter 3 for how to size each wire. Below is an example of the Excel tracking sheet made for this.</p><p style=""><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" height="64" src="attachments/226820648/280564069.png" data-image-src="attachments/226820648/280564069.png" data-unresolved-comment-count="0" data-linked-resource-id="280564069" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2022-12-9_20-27-39.png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="226820648" data-linked-resource-container-version="3" alt=""></span></span></p><p style="">Each bundle section in CAD was assigned an ID which is referenced by this page. You then input how many of each wire size will be going through that section of bundle, which will then give you information about the diameter of the section. You get this by taking the cross-sectional area of each wire and then adding them together to get the overall area taken up by wire. From here you can get the diameter of the bundle. Once you input the length of the bundle, you can calculate how much of each size of wire or heat shrink you will need to complete the harness. Here is an example of the data for required heat shrink:</p><p style=""><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" height="166" src="attachments/226820648/280564070.png" data-image-src="attachments/226820648/280564070.png" data-unresolved-comment-count="0" data-linked-resource-id="280564070" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2022-12-9_20-33-43.png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="226820648" data-linked-resource-container-version="3" alt=""></span></span></p><h1 style="" id="HarnessPF23|Design-Chapter3:Analysis">Chapter 3: Analysis</h1><h2 style="" id="HarnessPF23|Design-WireSizing">Wire Sizing</h2><p style="">There are two main things to consider when sizing each wire: voltage drop and heat generation. It is important that the wire you choose is able to handle the power going through it without melting or not supplying enough voltage to the component. For voltage drop calculations, you should use the resistivity of the wire, the length of the wire, the current going through the wire, and the voltage at the start of the wire to calculate all of these. You should be able to do simple V=IR to get your voltage drop. Most of the time this will be your &quot;limiting factor&quot; for wire selection, however it is important to do thermal analysis on the wire as well. The way we approached this this year was to do energy balance on the wire between the air and the insulation. By finding the power output of the wire and the surface area of the outside of the wire, these become fairly simple calculations. However it is difficult to then also include the heat transfer between wires in a bundle and the heat shrink over the outside of the harness as well, so these calculations are further correlated to research papers on this topic. A MATLAB calculator was created to combine both of these analysis which makes it very clear as to which wire should be selected and used. This process gets a bit difficult to do once you add splicing to the mix, so this is where you need to start thinking about Kirchhoff's laws when completing the calculations for each stretch of &quot;spliced&quot; wire. The wires will also start to get large very quickly.</p><h2 style="" id="HarnessPF23|Design-PowerAccounting">Power Accounting</h2><p style="">The other big analysis that needs to be completed is power accounting. As covered before, you need to make sure that the engine stator will be able to produce enough power to charge the battery while it is being consumed by all the components on the car. This is done by taking the power generation described by the R6 manual and subtracting the sum of all expected power draws of each electrical component. You should also apply a small factor of safety just in case a component fails and draws far more power than expected in normal operating conditions (like a fan stalling for example). During this season's validation cycle I hope to get a more accurate measurement of stator output power vs RPM which would help in creating better decisions when it comes to power accounting.</p><h1 style="" id="HarnessPF23|Design-Chapter4:Validation">Chapter 4: Validation</h1><h2 style="" id="HarnessPF23|Design-PinoutValidation&amp;NewSystems">Pinout Validation &amp; New Systems</h2><p style="">An easy way to double check the pinout that you have created is to create the dyno wiring harness based off of your pinout. This will quickly show any errors that you have made and will help catch them early on in the design cycle. This is also critical when testing new systems. This year we have added Pneumatics to the vehicle for shifting gears and clutch control. The dyno is the perfect place to test this and will be able to find your errors very quickly.</p><p style="">This also includes adding new firmware to the vehicle. The process I would recommend testing new firmware is to first write standalone firmware for each new component to be added, then write standalone firmware that combines all of the component firmware and works together cohesively, and then finally add the new firmware to the vehicle to the overall vehicle build. This will help eliminate errors in the code early on in the process and will remove a lot of the headache that comes to debugging a ton of code versus just a small amount.</p><h2 style="" id="HarnessPF23|Design-CurrentDrawValidation">Current Draw Validation</h2><p style="">As a safety measure and to double check that all components on the harness are drawing the amount of power that you think that they are drawing you should read current and voltage of each component using an oscilloscope / DMM. This will validate all calculations that you have done for voltage drop and also power accounting. This will also tell you if you need to add a voltage offset to a sensor measurement in M1 Tune for data collection / calculations to be accurate. Design judges also love seeing this stuff, as if you can prove that the data that MoTeC devices is recording when it comes to current is accurate it looks really good for the rest of your analysis/design decisions.</p>
                    </div>

                                                            <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/226820648/280564067.png">image-2022-12-9_19-46-21-1.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/226820648/280564068.png">image-2022-12-9_20-21-58.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/226820648/280564069.png">image-2022-12-9_20-27-39.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/226820648/280564070.png">image-2022-12-9_20-33-43.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 04, 2024 13:32</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
