<!DOCTYPE html>
<html>
    <head>
        <title>Purdue Formula SAE : Turbulence Modeling and Simulation Overview</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Purdue Formula SAE</a></span>
                            </li>
                                                    <li>
                                <span><a href="Purdue-Formula-SAE-Home_127569448.html">Purdue Formula SAE Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Aerodynamics_129007673.html">Aerodynamics</a></span>
                            </li>
                                                    <li>
                                <span><a href="259297338.html">Education | AER</a></span>
                            </li>
                                                    <li>
                                <span><a href="261751356.html">Fundamentals | CFD</a></span>
                            </li>
                                                    <li>
                                <span><a href="CFD-Governing-Equations_262832320.html">CFD Governing Equations</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Purdue Formula SAE : Turbulence Modeling and Simulation Overview
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Zhang, Chenkai</span>, last modified on Jun 05, 2023
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><u><strong>Difference Between Model and Simulation</strong></u></p><p>Model and simulation are two words that people use interchangeably. By people I mean us as well. But there is a significant difference at least when it comes to CFD.</p><p>You are running a CFD <em>simulation</em> when you are solving the governing equation directly.</p><p>You are running a CFD <em>model</em> when you are simplifying the governing equation into something else.</p><p>Even though we call our CFD a simulation, we run a CFD model. STAR-CCM+ calls all files sim files, even though most sim files actually mostly contain models.</p><p><u><strong>Direct Numerical Simulation (DNS)</strong></u></p><p>As the name suggests, <em>direct numerical simulation (DNS)</em> is a simulation. It is, in fact, the only pure simulation in CFD. There are two types of DNS, Navier Stokes based, and Lattice-Boltzmann based. DNS is exclusively used in research to gain a deeper understand of fluid mechanics. It has little to no engineering value.</p><p>Navier Stokes based DNS is the vastly more popular than the Lattice-Boltzmann based. It is in fact the kind of DNS people think of when you mention the word. This method solve the Navier Stokes equation directly. This requires an incredibly fine grid, fine enough to resolve every thing down to the Kolmogorov scale. The size of mesh means only people who have access to the most powerful supercomputers have the resources to solve even the simplest of problems (e.g. flow over flat plate, certainly not airplanes or racecars), even then, the problems can take months to solve.</p><p><em>Lattice-Boltzmann method (LBM)</em> is a method that solves for direct fluid particle interactions instead of solving for conservation equation like Navier Stokes. This gives LBM the advantage of the ability to predict flow in ultra low density situation where continuum assumption does not hold. Therefore, it is the method of choice when it comes to rarified gas dynamics. For example, if you want to study orbital decay of the International Space Station, Navier Stokes will not work, but LBM will. LBM has not traditionally been popular since it is notoriously hard to calibrate to produce accurate results. But LBM is making a come back with advances in GPU technology and parallel computing, allowing it to be solve orders of magnitude faster than Navier Stokes. See ProjectPhysX on YouTube (note since the author has been done any work to correlate the result of his code, as of now, the code is a simply a producer of cool graphics and a demonstration of his incredible talent in computer science).</p><p><u><strong>Large Eddy Simulation (LES)</strong></u></p><p><em>Large eddy simulation (LES)</em> should really be named large eddy simulation and small eddy models, since that is exact what LES does. As you might remember from intro to turbulence section, large eddies are flow field dependent and small ones are flow field independent. LES leverages the fact and only simulates large eddies and model small ones. Despite the simplification, LES produces incredible results. </p><p>LES mesh looks quite different to a RANS mesh in that capturing turbulent kinetic energy is the primary concern. Consider flow over a backward step, in RANS you will simplifying have to refine the interface between outer flow and the wake, but for LES, you will have to refine the wake itself as well, since that's where turbulent kinetic energy primarily is.</p><p>LES is also the most accurate practical CFD simulations/models. It is still quite expansive, but it is conceivable someone with way too much resources can use it. However, LES is rarely used these days in external aerodynamics applications due to the existence of detached eddy simulation (DES), which we will talk about later.</p><p><u><strong>Reynolds Averaged Navier Stokes Equation (RANS) and the Closure Problem</strong></u></p><p><em>Reynolds Averaged Navier Stokes (RANS)</em> takes one step further and models everything, both large and small eddies. As you might imagine, a lot of errors are induced in this process. But it has the advantage of being the cheapest, so cheap that 2D flow over an airfoil can easily be solved by a home desktop. Because how cheap it is to solve, RANS is a favorite amongst engineering companies, it's used anywhere from internal pipe flow to Formula 1 aerodynamics (at least until very recently). RANS is also what we use in FSAE.</p><p>RANS is so named since the velocity fluctuations (last term in the equation below) is averaged over time. This term has the name of <em>Reynolds stress</em> and it is a symmetric tensor. You might think this means RANS can only be solved for steady state cases, but that is true, since primary flow variables can be time dependent.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" width="500" src="attachments/262832310/262834158.png" data-image-src="attachments/262832310/262834158.png" data-unresolved-comment-count="0" data-linked-resource-id="262834158" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2023-6-5_7-30-58.png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="262832310" data-linked-resource-container-version="6" alt=""></span></p><p>Solving RANS is not easy. Taking temperature changes and compressible flow out of the equation, you end up with 4 equations, continuity and momentum in x, y, and z directions. However, there are 10 unknowns, pressure, u, v, w, average fluctuations of uu, vv, ww, uv, uw, and vw. This means that RANS needs further modeling. This is what is referred to as <em>the closure problem</em>. And there are two ways to approach this.</p><p>The first way is called <em>Reynolds Stress Model (RSM). </em>RSM models everything directly. Having never looked into RSM myself, I can't really write about the inner workings of RSM. RSM is the more expansive and also the more accurate of closure methods.</p><p>The other method is called the eddy viscosity model. Eddy viscosity model utilizes the <em>Boussinesq Approximation</em> (2D Boussinesq approximation is shown below), named other the person who worked it out, Joseph Boussinesq. In Boussinesq approximation, turbulence is treated as an analogy to pure shear flow, so that the effect can be modeled as an analogy to viscosity times the mean strain rate (mean velocity gradient but in tensor notation). This viscosity is called <em>eddy viscosity, turbulent viscosity, or effective viscosity</em> (it is also common to present it in term of <em>turbulent viscosity ratio</em>, where turbulent viscosity is divided by molecular viscosity). As you might imagine, this obvious has problems. Since turbulent is modeled as pure shear, the normal component of velocity fluctuation is ignored, which has consequences in modeling of wake, vorticity, and compressible flow in general. Despite the draw backs, eddy viscosity model is still the most commonly used, since it is a lot cheaper RSM for marginal accuracy loss.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" width="500" src="attachments/262832310/262834180.png" data-image-src="attachments/262832310/262834180.png" data-unresolved-comment-count="0" data-linked-resource-id="262834180" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2023-6-5_10-35-30.png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="262832310" data-linked-resource-container-version="6" alt=""></span></p><p>However, eddy viscosity model by itself still isn't enough, because we still haven't figured out how to find eddy viscosity itself. To find eddy viscosity, you need additional models. These models can be split into two categories as well.</p><p>The first category contain algebraic models. In these models, simple algebraic relationships between local flow variables and eddy viscosity are used. Some examples of algebraic models include Prandtl mixing length model, Cebeci-Smith model, and Baldwin-Lomax model. These models are extremely cheap since algebraic equations are easy to solve. Despite the cheap computational cost, these models are still severely outdated and are not used anymore. The reason I mention them is that they are frequently mentioned in older textbooks, with Baldwin-Lomax being their favorite.</p><p>The second category contain differential models. In these models, partial differential equations are used to connect local flow variables and eddy viscosity. These can be further divided into one-equation, two-equation, and three-equation models. Although it might seem three-equation model is the most accurate one, it all depends on the applications. Each model is tuned for an application, so that they can model the large eddies as accurately as possible.</p><p>The <em>Spalart-Allaramas</em> model (one equation) was developed by Spalart and Allaramas for Boeing and tuned for applications in external aerodynamic for jetliners (i.e. transonic external aerodynamics). It works relatively well for incompressible flow as well, and it was our turbulence model of choice from 2019 to March of 2023.</p><p>The <em>k-ε </em>model (2 equations) calculates eddy viscosity with turbulent kinetic energy (k) and dissipation rate (ε), is the cheapest of differential models due to its wall modeling nature (explained later), and is tuned for internal pipe flows and heat transfer. Due to its cheapness, it is also the model of choice when you are low on computational resources. k-ε performs well in low shear, low adverse pressure gradient conditions, meaning it's terrible for prediction of flow separation. k-ε was the model of choice for us pre-2019, before we had access to the supercomputer. </p><p>The <em>k-ω </em>model or <em>Wilcox k-ω </em>model (2 equations) calculate eddy viscosity with turbulent kinetic energy (k) and specific dissipation rate (ω). Specific dissipation rate is simply the non-dimensional version of dissipation rate. Although they sound similar, they are in fact very different. When you work the math out, an additional term magically appears in k-ω model, making it sensitive to inlet turbulence boundary conditions (usually turbulent viscosity ratio and turbulent intensity). Since the exact inlet turbulence condition is hard to determine, k-ω isn't very popular. K-ω also overpredicts flow separation.</p><p>The <em>k-ω SST </em>model or <em>Menter SST (shear stress transport) model</em> or simply <em>SST </em>model (3 equations) is a blend of k-ε and k-ω with an additional viscosity limiter. SST leverages k-ε's performance in term of inlet condition insensitivity and k-ω's advantages in near wall region. So it really is the best of both worlds. Additionally, a viscosity limiter was introduced to put turbulence generation in free shear in equilibrium with turbulent dissipation. While SST still overpredicts separation, which is consequence of the equilibrium assumption of the viscosity limiter, it does so much less than the standard k-ω model. Outside of k-ε model, SST is the most commonly used due to versatility. It's the turbulence model of choice for many automotive and motorsport external aerodynamics applications (including F1 when they used RANS), including us after April of 2023. By the way, here is a rant...Although it is commonly referred to as k-ω SST, I personally hate the k-ω part, since it is just as much k-ε as it is k-ω, since they are blended. Therefore, I simply refer to it as SST.</p><p>Another cool one that is in ANSYS Fluent but not STAR-CCM+ is called <em>GEKO</em>, or <span style="color: rgb(255,0,0);"><span style="color: rgb(0,0,0);"><em>generalized k-ω</em>. It is special because it's the first turbulence model designed so that it can be easily tuned by the user, meaning, with little effort, it can be tuned to all applications. While all turbulence models are tunable since they all contain empirical constants, GEKO is designed so that tunning the constants will not lead to unphysical behaviors of the model. I have no idea how it works, but I think it's cool.</span></span></p><p>There are plenty more turbulent models than the ones I just pointed out, mainly variations of what I just mentioned. For example, the original k-ε is actually rarely used nowadays, and RNG k-ε (aka realizable k-ε) is the most commonly used due to its improved convergence rate and stability.</p><p><u><strong>Detached Eddy Simulation (DES)</strong></u></p><p><em>Detached Eddy Simulation (DES)</em> is a blend of RANS and LES. RANS applies where flow is attached and LES applies where flow is separated, hence detached eddy simulation. As I have pointed out above, where RANS really struggles is in regions of wake, DES solves that issue by avoid using RANS in those regions altogether. It should be no surprise that DES sits in between RANS and LES terms of cost and accuracy. For external aerodynamics applications, the trade off between cost and accuracy compared to LES is usually worth it. It should also be noted that since LES is inherently unsteady, the unsteady version of RANS, URANS, is solved in DES. DES is the turbulent model/simulation of choice in F1. If we ever get 800 cores at our disposal, moving from RANS to DES is an easy decision to make.</p>
                    </div>

                                                            <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/262832310/262834158.png">image-2023-6-5_7-30-58.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/262832310/262834180.png">image-2023-6-5_10-35-30.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 04, 2024 13:25</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
