<!DOCTYPE html>
<html>
    <head>
        <title>Purdue Formula SAE : M1 Tune Signals</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Purdue Formula SAE</a></span>
                            </li>
                                                    <li>
                                <span><a href="Purdue-Formula-SAE-Home_127569448.html">Purdue Formula SAE Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Powertrain_130155471.html">Powertrain</a></span>
                            </li>
                                                    <li>
                                <span><a href="259297393.html">Lessons Learned | POW</a></span>
                            </li>
                                                    <li>
                                <span><a href="Powertrain-Archives_198512866.html">Powertrain Archives</a></span>
                            </li>
                                                    <li>
                                <span><a href="2020-2021-Dyno_132156885.html">2020-2021 Dyno</a></span>
                            </li>
                                                    <li>
                                <span><a href="Stepper-Motor-Load-Control_164136544.html">Stepper Motor Load Control</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Purdue Formula SAE : M1 Tune Signals
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Unknown User (osborn42)</span> on Dec 01, 2020
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" height="250" src="attachments/164136553/164136554.png" data-image-src="attachments/164136553/164136554.png" data-unresolved-comment-count="0" data-linked-resource-id="164136554" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2020-12-1_19-17-25.png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="164136553" data-linked-resource-container-version="2" alt=""></span></p><p><strong>Water Valve Stepper PI:</strong></p><p>The value that comes from this is the Aim of the stepper motor. The value is an integer that represents the step value of the stepper motor between 0 and <strong>Maximum Step</strong>.</p><p><strong>Position:</strong></p><p>This is the actual position of the stepper. When looking at the data you will be comparing the <strong>Water Valve Stepper PI</strong> to the <strong>Water Valve Stepper PI</strong> <strong>Position</strong>. This value is in the same format as the <strong>Water Valve Stepper PI</strong>. The position of the stepper motor updates at a frequency of 200Hz.</p><p><strong>State: </strong></p><p>This will tell you whether the stepper is moving or holding its position. This will determine the stepper is getting full voltage or hold voltage.</p><p><strong>Error:</strong></p><p>Error = Engine.Speed - RPM Target</p><p><strong>Integral Value:</strong></p><p>This is the sum of all the integral values over time to compute the area under the curve.</p><p><strong>RPM Target Tracker: </strong></p><p>This is meant to track if the RPM Target changes to reset the <strong>Error Time</strong></p><p><strong>Error Time:</strong></p><p>This is a timer that continues to count as the RPM Target stays the same</p><p>*Needs to be updated to be reset if Integral Coeff is changed and when the Engine.State = Run (12/1/2020)</p><p><strong>PI Aim: </strong></p><p>Value that updates the aim to change the position of the stepper. </p><p>PI Aim = Proportional*error + Integral Value*Integral Coeff;</p><p>Aim = Convert.ToInteger(Position + PI Aim)</p><p>Will not let the aim go below 0 or above maximum step</p>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 04, 2024 13:29</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
