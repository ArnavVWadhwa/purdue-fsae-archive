<!DOCTYPE html>
<html>
    <head>
        <title>Purdue Formula SAE : Rack and Pinion Gear Design | Steering Rack PF24</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Purdue Formula SAE</a></span>
                            </li>
                                                    <li>
                                <span><a href="Purdue-Formula-SAE-Home_127569448.html">Purdue Formula SAE Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Chassis_130162749.html">Chassis</a></span>
                            </li>
                                                    <li>
                                <span><a href="259297369.html">Design | CHA</a></span>
                            </li>
                                                    <li>
                                <span><a href="262832176.html">Design PF24 | CHA</a></span>
                            </li>
                                                    <li>
                                <span><a href="262836895.html">Steering PF24 | Design</a></span>
                            </li>
                                                    <li>
                                <span><a href="276628701.html">Steering Rack PF24 | Design</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Purdue Formula SAE : Rack and Pinion Gear Design | Steering Rack PF24
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Dien Quang Nguyen</span>, last modified by <span class='editor'> Singhal, Ria</span> on Dec 21, 2023
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h2 id="RackandPinionGearDesign|SteeringRackPF24-documentationfor~~gearmath~~">documentation for ~~gear math~~</h2><p>RE:  <a class="confluence-userlink user-mention" data-username="singha31" href="https://wiki.itap.purdue.edu/display/~singha31" data-linked-resource-id="187081217" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://wiki.itap.purdue.edu">Singhal, Ria</a> </p><p>Gears are really complicated. There are a lot of geometric parameters that are all dependent on each other. The purpose of this page is to introduce the basics and document what I did. Shigley's chapter 13 and Dr. Hess are the best resources for gear design. </p><p>I made a massive excel calculator for everything and it's in the formula drive (<span style="color: rgb(23,43,77);">Z:\2024\4_Chassis\5_Steering\Handcalcs\PF24_steering_rack_gear_math_yay)</span>, but I'll try to explain what everything is here. Definitely read Shigley's, it's very in-depth and gave me a good appreciation for why all this matters and why it is the way it is. </p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" height="400" src="attachments/270344725/277724130.png" data-image-src="attachments/270344725/277724130.png" data-unresolved-comment-count="0" data-linked-resource-id="277724130" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="MicrosoftTeams-image (2).png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="270344725" data-linked-resource-container-version="21" alt=""></span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/download/attachments/270344725/PF24_steering_rack_gear_math_yay.xlsx?version=1&amp;modificationDate=1694406835000&amp;api=v2" data-nice-type="Excel Spreadsheet" data-file-src="/download/attachments/270344725/PF24_steering_rack_gear_math_yay.xlsx?version=1&amp;modificationDate=1694406835000&amp;api=v2" data-linked-resource-id="270344736" data-linked-resource-type="attachment" data-linked-resource-container-id="270344725" data-linked-resource-default-alias="PF24_steering_rack_gear_math_yay.xlsx" data-mime-type="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" data-has-thumbnail="true" data-linked-resource-version="1" data-can-edit="true" aria-label="PF24_steering_rack_gear_math_yay.xlsx" draggable="false"><img src="rest/documentConversion/latest/conversion/thumbnail/270344736/1" height="400" alt="" draggable="false"/></a><span class="companion-edit-button-placeholder edit-button-overlay" data-linked-resource-container-id="270344725" data-linked-resource-id="270344736" data-template-name="companionEditIcon" data-source-location="embedded-attachment"></span></span></p><h3 id="RackandPinionGearDesign|SteeringRackPF24-HowtoDesignaRackandPinion">How to Design a Rack and Pinion</h3><ol><li>get parameters from drivers and suspension (start here)</li><li>determine rack speed (start here)</li><li>determine all geometric parameters (rack and pinion parameters)</li><li>thorough parameterized CAD of pinion (CAD)</li><li>rack CAD interpart parameterized to pinion CAD (CAD)</li><li>determine face width (contact forces)</li><li>contact forces (contact forces)</li></ol><h3 id="RackandPinionGearDesign|SteeringRackPF24-StartHere">Start Here</h3><p>For a starting point, I would highly recommend calculating the rack speed first. Rack speed is the ratio of linear travel to rotation. Specifically, it is the linear travel of the rack if the pinion is rotated 360 degrees one way. Fun fact: rack speed is also the circumference of the pitch circle (which is the most important parameter when designing a pinion and we'll get to it later). For context, the NARRco rack had a rack speed of 3.46 in/rev and the PF24 steering rack was 4.1469 in/rev. The higher the rack speed, the more responsive the steering is (less rotation at the steering wheel is required to achieve the same linear travel), but higher rack speed also means a larger pinion which is harder to package and also heavy. </p><p>To calculate rack speed, some parameters are needed from suspension and input is needed from the drivers.</p><p>From suspension, you'll need the steering suspension angle (angle of the tires at max turn) and the steering pivot distance (the upright parameter that determines what rack travel is necessary to turn the wheels x degrees). If you do some trig, you can calculate the necessary linear travel one way for the rack. Relevant calcs are in the gear math calculator. </p><p>From drivers, you'll need their thoughts on lock-to-lock. Lock-to-lock is the maximum angle the wheel can be turned each way. NARRco rack was 260 degrees (130 degrees each way). PF24 is 230 degrees (115 each way). For PF24, the drivers wanted a more sensitive steering system hence the smaller lock-to-lock. To settle on the 115 value, I'm pretty sure they just played around with the racing sim to find an appropriate value. </p><p>Once you have linear travel and lock-to-lock, you can do a simple proportion to calculate rack speed. This calculation is in the &quot;start here&quot; sheet in the gear math calculator. </p><p><br/></p><h3 id="RackandPinionGearDesign|SteeringRackPF24-RackandPinionParameters">Rack and Pinion Parameters</h3><p>Next, you have to figure out all the geometric parameters that will be used in the pinion CAD.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" height="400" src="attachments/270344725/277724128.png" data-image-src="attachments/270344725/277724128.png" data-unresolved-comment-count="0" data-linked-resource-id="277724128" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2023-11-5_16-25-4.png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="270344725" data-linked-resource-container-version="21" alt=""></span></p><h4 id="RackandPinionGearDesign|SteeringRackPF24-PinionGearGeometryInputParameters">Pinion Gear Geometry Input Parameters</h4><p>These are parameters that you need to choose as inputs for the rest of the calculated values. </p><ul style="list-style-type: square;"><li>k (depth of teeth): how far into each other the teeth mesh <ul style="list-style-type: square;"><li>1 is full depth which is recommended and &quot;standard&quot;</li><li>0.8 is stub which is not recommended<ul style="list-style-type: square;"><li>i should've done more research into why this isn't recommended</li></ul></li></ul></li><li>phi (pressure angle): the angle of the tangent line at the contact point relative to the vertical axis<ul style="list-style-type: square;"><li>this is 20 deg and should be 20 deg it is an industry standard</li></ul></li><li><strong>number of teeth (number of teeth on pinion)</strong><ul style="list-style-type: square;"><li>there is a calculation in shigley's for the minimum number of teeth required on a pinion for no interference with a rack with full-depth teeth. This calculation gives 18 teeth as the minimum with full-depth teeth and a 20 deg pressure angle.</li><li><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" draggable="false" width="600" src="attachments/270344725/277724117.png" data-image-src="attachments/270344725/277724117.png" data-unresolved-comment-count="0" data-linked-resource-id="277724117" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2023-11-5_13-50-36-1.png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="270344725" data-linked-resource-container-version="21" alt=""></span></li><li><p>If you want less teeth, you'll have to either start undercutting or decreasing your depth of teeth. Both of these are not good options. </p></li><li><p><br/></p></li><li><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource" draggable="false" height="250" src="https://khkgears.net/new/images/undercut/comparison-with-positive-shifted-tooth-profile.jpg" data-image-src="https://khkgears.net/new/images/undercut/comparison-with-positive-shifted-tooth-profile.jpg"></span><ul><li><p>undercutting is when your tooth profile curves in at the base. The issue with this is that it wrecks the max bending stress of the tooth. Undercutting is not something I looked into very deeply this season because of strong advice from baja to avoid it, but it is definitely worth trying to understand better. As the pinion gets optimized and, in theory, gets smaller, the number of teeth on the pinion will have to decrease (less teeth = thicker teeth) assuming that loads don't change drastically.</p></li><li>Depth of teeth is also kinda sketchy to mess around with because the smaller the tooth depth, the greater play introduced in the system. Also there would be a ton of backlash because two points on both the rack and pinion would not be in contact with each other the entire time. Backlash leads to pitting and more play and general uncertainty.</li><li>It's worth noting that the NARRco rack's pinion gear only has 13 teeth, I am fairly certain they undercut their teeth, but it doesn't really look like they do so honestly I have no idea. They also appear to be full-depth. </li></ul></li><li>For PF24 pinion design, I just went with 18 teeth and used the contact forces to make sure everything would be fine<ul style="list-style-type: square;"><li>this is probably not the best way to do this, and I'm pretty sure it resulted in a heavily over-engineered solution.<strong> The most correct way to do it would probably be to make multiple options with varying parameters, put all of them in the contact force calculator, and then determine the best solution from there. </strong></li></ul></li></ul></li><li>pitch diameter (rack speed/pi)<ul style="list-style-type: square;"><li>Pitch diameter is probably the single most important pinion parameter. It is the diameter of the pitch circle, and everything is based around this. If you were to edit this value, literally every single pinion parameter would have to change. To calculate it, you just divide rack speed by pi. I would also highly recommend making this a round-ish value since you'll have to input it a bunch of times.</li><li>The pitch circle is the circle that connects all the contact points of the teeth.  It also determines the size of the pinion, the outermost diameter is essentially meaningless. In CAD, basically everything should be parametrized to the pitch diameter. I made a whole section for parameterizing the CAD called &quot;CAD&quot; below. </li></ul></li></ul><p><br/></p><h4 id="RackandPinionGearDesign|SteeringRackPF24-PinionGearGeometryCalculatedParameters">Pinion Gear Geometry Calculated Parameters</h4><p>These are all calculated parameters from the 4 input parameters from above. </p><ul style="list-style-type: square;"><li>diametral pitch</li><li>addendum</li><li>dedendum</li><li>circular pitch</li><li>clearance</li><li>radius of curvature</li><li>tooth thickness</li><li>outer diameter</li></ul><h4 id="RackandPinionGearDesign|SteeringRackPF24-RackGearGeometryCalculatedParameters">Rack Gear Geometry Calculated Parameters</h4><p>These are also all calculated parameters from the 4 input parameters. Many of the parameters have to be shared between rack and pinion to ensure proper interfacing. </p><ul style="list-style-type: square;"><li>tooth spacing</li><li>number of teeth</li><li>tooth thickness (slightly different from pinion)</li><li>addendum (same as pinion)</li><li>dedendum (same as pinion)</li></ul><p><br/></p><h3 id="RackandPinionGearDesign|SteeringRackPF24-CAD">CAD</h3><p>The CAD for the gears has to be very good. <strong><em>Everything </em></strong>needs to be parameterized in a way that makes sense. The four input parameters should be user expressions with a numerical input and then all calculated parameters should be dependent on those input parameters.</p><h4 id="RackandPinionGearDesign|SteeringRackPF24-PinionCAD">Pinion CAD</h4><p>For the CAD itself there are many ways to do it, and in hindsight, the way I did it was probably not the best way to do it. I did everything in one massive sketch and every change would take several minutes to update. My recommendation is to have all reference geometry and CAD for one tooth in one sketch, and then extrude and pattern the feature according to the calculated parameters. The issue with doing this is when designing the rack, a new sketch would be needed with the pinion outline and pitch circle projected onto it. This shouldn't be an issue if everything is parameterized and updated consistently. Whatever you do, all sketches must be fully constrained. If something is wrong, everything will be wrong and it will be very annoying to deal with. Again, every single dimension should be parameterized. </p><p>To sketch the involute spline profile, there is a literal tutorial in shigley's. It involves very basic calculus and a lot of reference geometry, but it is pretty cool. </p><p>There are also online programs where you can input your parameters and it will generate a dxf of your gear profile. We tried doing this, but after importing and extruding in NX it didn't result in clean CAD. Instead of a spline, the gear teeth were several small faces and it was overall very difficult to work with. </p><h4 id="RackandPinionGearDesign|SteeringRackPF24-RackCAD">Rack CAD</h4><p>The hardest part of this whole production is the flat rack CAD. None of the reference circles used to construct the pinion teeth are applicable, so some extra thought is required. Also, the rack should update when the pinion is updated, so interpart expressions are needed.</p><p>Instead of a pitch circle, the rack will have a pitch line. Ideally, this pitch line would be horizontally centered with the shaft itself, but this results in the most load-bearing portion of the rack being very thin where the teeth are cut. To combat this, I sketched the pitch line, addendum line, and dedendum line relative to each other and constrained the dedendum line to be aligned with the center of the entire rack (this is what baja does as well). From there, the teeth profile can be drawn maintaining the 20 deg pressure angle and using the calculated tooth thickness and tooth spacing. One important thing to note is that the tooth thickness for the rack and pinion are technically the same numerical value, but for the pinion it is an arc length and it is a linear dimension for the rack. Be sure to do the appropriate trig to offset the thickness so the teeth mesh properly. I couldn't figure out if there was a way to dimension an arc length in NX. </p><h4 id="RackandPinionGearDesign|SteeringRackPF24-CheckingforInterference">Checking for Interference</h4><p>To try to check for interference between the rack and pinion, I extruded both components and added them to a new file and tried to assembly constrain them to mesh like gears are supposed to mesh. We tried for several hours using different NX packages to get the desired motion, but nothing was really working. The closest we were able to get was using the rack and pinion assembly constraint, but it wasn't a reliable check, so we quickly 3D printed various iterations to test, and it took three iterations to get the suitable gear mesh.  </p><h3 id="RackandPinionGearDesign|SteeringRackPF24-ContactForces">Contact Forces</h3><p>The final component of the gear design is understanding the forces that the rack will experience. The purpose of this is to ensure that the gear teeth don't fail or yield due to pitting, wear, or bending stress. </p><p><br/></p><h3 id="RackandPinionGearDesign|SteeringRackPF24-Modelling">Modelling</h3><h4 id="RackandPinionGearDesign|SteeringRackPF24-ADAMSView">ADAMS View</h4><h4 id="RackandPinionGearDesign|SteeringRackPF24-ADAMSDriveline">ADAMS Driveline</h4><h4 id="RackandPinionGearDesign|SteeringRackPF24-EnginSoftRecurDynGearModelling">EnginSoft RecurDyn Gear Modelling</h4><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" height="400" src="attachments/270344725/270346140.png" data-image-src="attachments/270344725/270346140.png" data-unresolved-comment-count="0" data-linked-resource-id="270346140" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="gearmath.PNG" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="270344725" data-linked-resource-container-version="21" alt=""></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" height="250" src="attachments/270344725/270344733.png" data-image-src="attachments/270344725/270344733.png" data-unresolved-comment-count="0" data-linked-resource-id="270344733" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2023-9-11_0-32-40.png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="270344725" data-linked-resource-container-version="21" alt=""></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" height="250" src="attachments/270344725/270344734.png" data-image-src="attachments/270344725/270344734.png" data-unresolved-comment-count="0" data-linked-resource-id="270344734" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2023-9-11_0-32-59.png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="270344725" data-linked-resource-container-version="21" alt=""></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" height="250" src="attachments/270344725/270344735.png" data-image-src="attachments/270344725/270344735.png" data-unresolved-comment-count="0" data-linked-resource-id="270344735" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2023-9-11_0-33-7.png" data-base-url="https://wiki.itap.purdue.edu" data-linked-resource-content-type="image/png" data-linked-resource-container-id="270344725" data-linked-resource-container-version="21" alt=""></span></p><p><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/download/attachments/270344725/PF24_steering_rack_gear_math_yay.xlsx?version=1&amp;modificationDate=1694406835000&amp;api=v2" data-nice-type="Excel Spreadsheet" data-file-src="/download/attachments/270344725/PF24_steering_rack_gear_math_yay.xlsx?version=1&amp;modificationDate=1694406835000&amp;api=v2" data-linked-resource-id="270344736" data-linked-resource-type="attachment" data-linked-resource-container-id="270344725" data-linked-resource-default-alias="PF24_steering_rack_gear_math_yay.xlsx" data-mime-type="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" data-has-thumbnail="true" data-linked-resource-version="1" data-can-edit="true" aria-label="PF24_steering_rack_gear_math_yay.xlsx" draggable="false"><img src="rest/documentConversion/latest/conversion/thumbnail/270344736/1" height="250" alt="" draggable="false"/></a><span class="companion-edit-button-placeholder edit-button-overlay" data-linked-resource-container-id="270344725" data-linked-resource-id="270344736" data-template-name="companionEditIcon" data-source-location="embedded-attachment"></span></span></p><p><br/></p><p><br/></p>
                    </div>

                                                            <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/270344725/270344732.png">image-2023-9-11_0-32-30.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/270344725/270344733.png">image-2023-9-11_0-32-40.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/270344725/270344734.png">image-2023-9-11_0-32-59.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/270344725/270344735.png">image-2023-9-11_0-33-7.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/270344725/270344736.xlsx">PF24_steering_rack_gear_math_yay.xlsx</a> (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/270344725/270346140.png">gearmath.PNG</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/270344725/277724117.png">image-2023-11-5_13-50-36-1.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/270344725/277724128.png">image-2023-11-5_16-25-4.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/270344725/277724130.png">MicrosoftTeams-image (2).png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 04, 2024 13:27</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
